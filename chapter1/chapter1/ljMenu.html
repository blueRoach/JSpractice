<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>联级菜单</title>
		<link rel="stylesheet" type="text/css" href="../css/base.css" media="all"/>
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css" media="all"/>
	</head>
	<body>
		<div class="demo1">
			<div class="menu">
				<span>
					<select>
						<option value="张学友">张学友</option>
						<option value="孙燕姿">孙燕姿</option>
						<option value="刘德华">刘德华</option>
						<option value="李宗盛">李宗盛</option>
						<option value="赵传">赵传</option>
						<option value="周传雄">周传雄</option>					
					</select>
				</span>	
			</div>
		</div>
		<script type="text/javascript">
			(function(){
				var star = {"张学友":["三分拍","爱火花","李香兰","饿狼传说","回头太难","咖啡","慢慢","情网","我与你"],
							"孙燕姿":["彩虹金刚","遇见","克仆勤","渴","爱情证书","天使的指纹","尚好的青春","错觉"],
							"刘德华":["冰雨","笨小孩","17岁","无间道","谢谢你的爱","爱你一万年","忘情水"],
							"李宗盛":["山丘","爱的代价","凡人歌","问","匆匆","给自己的歌","匆匆"],
							"赵传":["爱要怎么说出口","我终于失去了你","我是一只小小鸟","我很丑，可是我很温柔"],
							"周传雄":["冬天的秘密","黄昏","寂寞沙洲冷"]};

				var menu = document.getElementsByClassName("menu")[0];
				var span = menu.getElementsByTagName("span");
				var select = menu.getElementsByTagName("select")[0];
				var options = menu.getElementsByTagName("option");
				select.onchange = function(){
					var i = select.selectedIndex;
					var s = star[options[i].value];      // 当属性名 是一个变量的时候，只能用“【】”，而不能用“。”；
					
					create(s);     //  添加节点
					menu.removeChild(menu.lastChild);     // 删除改变前节点
				}
				/*
				 *   创建节点
				 */
				function create(val){
					var sp = document.createElement("span");
					var sel = document.createElement("select");
					var str = "";
					for (var i = 0; i < val.length; i++) {
						str += '<option value="' + val[i] + '">' + val[i] + '</option>';
					}
					sel.innerHTML = str;
					sp.appendChild(sel);
					span[0].parentNode.insertBefore(sp,span[0].nextSibling);      
				}
			}())
		</script>
	</body>
</html>
