<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>全选反选少选复选框</title>
		<link rel="stylesheet" type="text/css" href="../css/base.css"/>
	</head>
	<body>
		<div class="demo1">
			<div class="ss clearfix">
				<h5><input type="checkbox" id="all" /><label for="all">全选选项</label></h5>
				<h5><input type="checkbox" id="turn" /><label for="turn">反选选项 </label></h5>
			</div>
			
			<div class="select">
				<p><input type="checkbox"  id="c1" value="item" /><label for="c1">张学友</label></p>
				<p><input type="checkbox"  id="c2" value="item" /><label for="c2">孙燕姿</label></p>
				<p><input type="checkbox"  id="c3" value="item" /><label for="c3">周杰伦</label></p>
				<p><input type="checkbox"  id="c4" value="item" /><label for="c4">陈粒</label></p>
				<p><input type="checkbox"  id="c5" value="item" /><label for="c5">张震岳</label></p>
				<p><input type="checkbox"  id="c6" value="item" /><label for="c6">陈奕迅</label></p>
				<p><input type="checkbox"  id="c7" value="item" /><label for="c7">李宗盛</label></p>
				<p><input type="checkbox"  id="c8" value="item" /><label for="c8">罗大佑</label></p>
				<p><input type="checkbox"  id="c9" value="item" /><label for="c9">崔健</label></p>
				<p><input type="checkbox"  id="c10" value="item" /><label for="c10">薛凯琪</label></p>
			</div>
		</div>
		<script type="text/javascript">
			(function(){
				var checkAll = document.getElementById("all");
				var checkTurn = document.getElementById("turn");
				var select = document.getElementsByClassName("select")[0];
				var checkbox = select.getElementsByTagName("input");
								
				checkAll.onclick = function(){	
					if(checkCbox() == true){
						for (i = 0; i < checkbox.length; i++) {
							checkbox[i].checked = true;
						}
					} else {
						for (i = 0; i < checkbox.length; i++) {
							checkbox[i].checked = false;
						}
					}
				}
				checkTurn.onclick = function(){
					for (var i = 0; i < checkbox.length; i++) {
						checkbox[i].checked == true ? checkbox[i].checked = false : checkbox[i].checked = true;
					}
				}
				for (var i = 0; i < checkbox.length; i++) {
					checkbox[i].onclick = function(){
						checkAll.checked = false;
					}
				}
				function checkCbox(){
					var t = false;          //  有true便为true
					var f = false;          //  同上
					var c = null;
					for (var i = 0; i < checkbox.length; i++) {
						checkbox[i].checked == true ? t = true : f = true;			
					} 
				    t == true && f == false ? c = false : c = true;    //当且仅当全开时，点击checkAll才会关闭。
				    return c;
				}
				
			}())
		</script>
	</body>
</html>
